<!DOCTYPE html>
<html>
<head>
  <title>Authentic Mokorotlo</title>
</head>
<body>
<canvas id="mokorotloCanvas" width="600" height="600"></canvas>
<script>
const canvas = document.getElementById("mokorotloCanvas");
const ctx = canvas.getContext("2d");

// light straw base color
const strawLight = "#E9D7A3";
const strawDark = "#B89A60";

// DRAW SHADOW
function drawShadow() {
  const grad = ctx.createRadialGradient(300, 480, 20, 300, 480, 170);
  grad.addColorStop(0, "rgba(0,0,0,0.25)");
  grad.addColorStop(1, "rgba(0,0,0,0)");
  ctx.fillStyle = grad;
  ctx.beginPath();
  ctx.ellipse(300, 490, 170, 30, 0, 0, 2*Math.PI);
  ctx.fill();
}

// DRAW BRIM
function drawBrim() {
  const grad = ctx.createRadialGradient(300, 490, 50, 300, 490, 180);
  grad.addColorStop(0, strawLight);
  grad.addColorStop(1, strawDark);
  ctx.fillStyle = grad;
  ctx.beginPath();
  ctx.ellipse(300, 490, 180, 45, 0, 0, 2*Math.PI);
  ctx.fill();
}

// DRAW CONE
function drawCone() {
  const grad = ctx.createLinearGradient(300, 130, 300, 490);
  grad.addColorStop(0, strawLight);
  grad.addColorStop(1, strawDark);
  ctx.fillStyle = grad;
  ctx.beginPath();
  ctx.moveTo(150, 490);
  ctx.quadraticCurveTo(300, 110, 450, 490);
  ctx.closePath();
  ctx.fill();
}

// TEXTURED LINES - horizontal straw
function drawWeaveLines() {
  ctx.strokeStyle = "#C2A76D";
  ctx.lineWidth = 1;
  for (let y = 160; y < 490; y += 14) {
    ctx.beginPath();
    let left = 150 + ((y - 150)/340)*300;
    let right = 450 - ((y - 150)/340)*300;
    ctx.moveTo(left, y);
    ctx.lineTo(right, y);
    ctx.stroke();
  }
}

// TOP WOVEN KNOB LOOP
function drawTopKnob() {
  ctx.strokeStyle = strawDark;
  ctx.lineWidth = 4;
  // upright loop
  ctx.beginPath();
  ctx.moveTo(300, 110);
  ctx.lineTo(300, 75);
  ctx.stroke();
  // woven bead loops
  ctx.beginPath();
  ctx.arc(290, 90, 7, 0, Math.PI*2);
  ctx.stroke();
  ctx.beginPath();
  ctx.arc(310, 90, 7, 0, Math.PI*2);
  ctx.stroke();
}

// RENDER ALL
drawShadow();
drawBrim();
drawCone();
drawWeaveLines();
drawTopKnob();
</script>
</body>
</html>
